<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦…æ„ç”Ÿæ´» - ä¸œæ–¹æ™ºæ…§æµ‹ç®—</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap">
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Serif SC', serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f7e6 0%, #e0f0e9 50%, #d1e8e2 100%);
            color: #2c514c;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        body:before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M20,20 C40,10 60,10 80,20 C90,40 90,60 80,80 C60,90 40,90 20,80 C10,60 10,40 20,20 Z" fill="none" stroke="%23a3c9b8" stroke-width="0.5" opacity="0.3"/></svg>');
            opacity: 0.15;
            pointer-events: none;
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid #a3c9b8;
            position: relative;
            overflow: hidden;
        }
        
        header:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(to right, #4a8e7f, #63a995);
        }
        
        h1 {
            font-size: 3rem;
            color: #3a7a6d;
            margin-bottom: 15px;
            font-weight: 400;
            letter-spacing: 3px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            font-family: 'Ma Shan Zheng', cursive;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #5a8a7e;
            font-weight: 300;
            margin-bottom: 20px;
        }
        
        .tagline {
            font-style: italic;
            color: #7a9c91;
            margin-top: 15px;
            font-size: 1.1rem;
        }
        
        .main-content {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .section-container {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid #a3c9b8;
            position: relative;
            overflow: hidden;
        }
        
        .section-container:before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 0 C70 0 90 20 90 50 C90 80 70 100 50 100 C20 100 0 80 0 50 C0 20 20 0 50 0 Z" fill="%23d1e8e2" opacity="0.5"/></svg>') no-repeat;
            background-size: contain;
            opacity: 0.3;
            z-index: 0;
        }
        
        h2 {
            color: #3a7a6d;
            font-size: 2rem;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #b8d5c7;
            font-weight: 400;
            position: relative;
            z-index: 1;
        }
        
        h2:after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: linear-gradient(to right, #4a8e7f, #63a995);
        }
        
        /* æŒ‰é’®æ ·å¼ */
        button, .btn {
            background: linear-gradient(135deg, #4a8e7f 0%, #63a995 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 142, 127, 0.3);
            font-family: 'Noto Serif SC', serif;
            position: relative;
            z-index: 1;
        }
        
        button:hover, .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 142, 127, 0.4);
            background: linear-gradient(135deg, #3a7a6d 0%, #4a8e7f 100%);
        }
        
        /* è¡¨å•æ ·å¼ */
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #b8d5c7;
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Noto Serif SC', serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
            color: #2c514c;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4a8e7f;
            background: white;
            box-shadow: 0 0 10px rgba(74, 142, 127, 0.2);
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .name-card, .package, .result-item {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #b8d5c7;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }
        
        .name-card:hover, .package:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
        }
        
        /* è¯„åˆ†æ¡æ ·å¼ */
        .score-bar {
            background: linear-gradient(to right, #e0f0e9, #d1e8e2);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .score-fill {
            background: linear-gradient(to right, #4a8e7f, #63a995);
            height: 100%;
            border-radius: 10px;
            transition: width 0.8s ease;
            position: relative;
        }
        
        .score-fill:after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%);
            background-size: 10px 10px;
            animation: move 1s linear infinite;
        }
        
        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 10px 10px; }
        }
        
        /* ä»·æ ¼æ ·å¼ */
        .price {
            color: #4a8e7f;
            font-weight: bold;
            font-size: 1.4rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        /* æ ‡ç­¾æ ·å¼ */
        .label {
            color: #3a7a6d;
            font-weight: 600;
            margin-right: 10px;
        }
        
        /* å›¾ç‰‡æ ·å¼ */
        .baby-image {
            border-radius: 50%;
            border: 3px solid #b8d5c7;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .baby-image:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* ç‰¹æ®ŠèƒŒæ™¯åŒºåŸŸ */
        .premium-results {
            background: linear-gradient(135deg, rgba(74, 142, 127, 0.1) 0%, rgba(99, 169, 149, 0.1) 100%);
            border: 1px solid rgba(74, 142, 127, 0.2);
        }
        
        .ai-inspiration {
            background: linear-gradient(135deg, rgba(58, 122, 109, 0.1) 0%, rgba(90, 138, 126, 0.1) 100%);
            border: 1px solid rgba(58, 122, 109, 0.2);
        }
        .ai-inspiration {
            background: linear-gradient(135deg, rgba(58, 122, 109, 0.1) 0%, rgba(90, 138, 126, 0.1) 100%);
            border: 1px solid rgba(58, 122, 109, 0.2);
        }
        
        /* å“åº”å¼å¸ƒå±€ */
        .naming-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        @media (min-width: 768px) {
            .naming-container {
                flex-direction: row;
            }
            .naming-form, #namingResults {
                flex: 1;
            }
        }
        
        .date-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        /* æ–°å¢æ ·å¼ - åŠ è½½å’Œç»“æœæ˜¾ç¤º */
        .loading {
            text-align: center;
            padding: 20px;
            color: #4a8e7f;
            font-size: 1.1rem;
            animation: pulse 1.5s ease-in-out infinite alternate;
        }
        
        @keyframes pulse {
            from { opacity: 0.6; }
            to { opacity: 1; }
        }
        
        /* åå­—å¡ç‰‡æ ·å¼å¢å¼º */
        .name-card.best {
            border: 2px solid #4a8e7f;
            background: linear-gradient(135deg, rgba(74, 142, 127, 0.15) 0%, rgba(99, 169, 149, 0.15) 100%);
            position: relative;
        }
        
        .name-card.best::before {
            content: "ğŸ†";
            position: absolute;
            top: -5px;
            right: -5px;
            background: #4a8e7f;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        .name-card .name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #3a7a6d;
            margin-bottom: 5px;
        }
        
        .name-card .score {
            color: #4a8e7f;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .name-card .meaning {
            color: #5a8a7e;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        /* å…«å­—åˆ†ææ ·å¼ */
        .bazi-analysis {
            background: rgba(58, 122, 109, 0.1);
            border: 1px solid rgba(58, 122, 109, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .bazi-analysis h4 {
            color: #3a7a6d;
            margin-bottom: 15px;
        }
        
        .bazi-analysis .analysis-content p {
            margin: 8px 0;
            color: #2c514c;
            line-height: 1.5;
        }
        
        /* è‡ªå®šä¹‰èµ·åæ ·å¼ */
        .custom-naming {
            text-align: center;
            padding: 30px;
        }
        
        .custom-naming .suggestions {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        
        .custom-naming .suggestions ul {
            list-style: none;
            padding: 0;
        }
        
        .custom-naming .suggestions li {
            padding: 8px 0;
            border-bottom: 1px solid #e0f0e9;
        }
        
        .custom-naming .suggestions li:last-child {
            border-bottom: none;
        }
        
        .date-selector select,
        .date-selector input {
            flex: 1;
            min-width: 150px;
        }
        
        .help-text {
            font-size: 12px;
            color: #7a9c91;
            margin-top: 5px;
            font-style: italic;
        }
        
        .name-suggestions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .name-card h5 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #3a7a6d;
            font-weight: 500;
        }
        
        .name-details {
            font-size: 14px;
            color: #5a8a7e;
        }
        
        .name-score {
            margin-top: 10px;
            display: flex;
            align-items: center;
        }
        
        .payment-options {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .package {
            flex: 1;
            min-width: 150px;
            text-align: center;
        }
        
        .naming-history {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .history-item {
            padding: 8px 15px;
            background: rgba(74, 142, 127, 0.1);
            border-radius: 20px;
            font-size: 14px;
            color: #3a7a6d;
            border: 1px solid rgba(74, 142, 127, 0.2);
        }
        
        .history-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #b8d5c7;
        }
        
        .baby-image-container {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .baby-image {
            width: 120px;
            height: 120px;
        }
        
        .favorite-btn {
            background: none;
            border: none;
            color: #ff9800;
            cursor: pointer;
            font-size: 16px;
            margin-left: 10px;
            transition: all 0.3s ease;
        }
        
        .favorite-btn:hover {
            color: #f57c00;
            transform: scale(1.2);
        }
        
        .fortune-test {
            margin-top: 20px;
            text-align: center;
        }
        
        .fortune-test button {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
        }
        
        /* å“åº”å¼å¯¼èˆªæ ·å¼ */
        @media (max-width: 768px) {
            .nav-grid {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 10px !important;
            }
            .nav-card {
                padding: 15px !important;
            }
            .nav-card .nav-icon {
                font-size: 2rem !important;
                margin-bottom: 8px !important;
            }
            .nav-card h3 {
                font-size: 1rem !important;
                margin-bottom: 3px !important;
            }
            .nav-card p {
                font-size: 0.8rem !important;
            }
        }
        
        @media (max-width: 480px) {
            .nav-grid {
                grid-template-columns: 1fr !important;
            }
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ æ ·å¼ */
        .top-navigation a:hover {
            background: rgba(74, 142, 127, 0.1);
            color: #2c514c;
            transform: translateY(-1px);
        }
        
        .top-navigation a.active {
            background: linear-gradient(135deg, #4a8e7f 0%, #63a995 100%);
            color: white;
        }
        
        @media (max-width: 768px) {
            .top-navigation ul {
                gap: 20px !important;
            }
            .top-navigation a {
                font-size: 1rem !important;
                padding: 6px 12px !important;
            }
        }
        
        @media (max-width: 480px) {
            .top-navigation ul {
                gap: 10px !important;
                flex-direction: column;
            }
            .top-navigation a {
                font-size: 0.9rem !important;
                padding: 8px 12px !important;
                width: 100%;
                justify-content: center;
            }
        }
</style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ç¦…æ„ç”Ÿæ´»</h1>
            <p class="subtitle">ä¸œæ–¹æ™ºæ…§æµ‹ç®—å¹³å°</p>
            <p class="tagline">æ¢ç´¢ä¼ ç»Ÿæ–‡åŒ–çš„æ™ºæ…§ï¼ŒæŒ‡å¼•ç°ä»£ç”Ÿæ´»çš„æ–¹å‘</p>
        </header>
        
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <nav class="top-navigation" style="background: rgba(255, 255, 255, 0.95); border-radius: 20px; padding: 15px 30px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); border: 1px solid #a3c9b8;">
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; justify-content: center; align-items: center; gap: 40px; flex-wrap: wrap;">
                <li><a href="#" onclick="goHome()" style="text-decoration: none; color: #3a7a6d; font-size: 1.1rem; font-weight: 500; padding: 8px 16px; border-radius: 10px; transition: all 0.3s ease; display: flex; align-items: center;"><i class="fas fa-home" style="margin-right: 6px;"></i>é¦–é¡µ</a></li>
                <li><a href="#shangshangqian" onclick="showModule('shangshangqian')" style="text-decoration: none; color: #3a7a6d; font-size: 1.1rem; font-weight: 500; padding: 8px 16px; border-radius: 10px; transition: all 0.3s ease; display: flex; align-items: center;"><i class="fas fa-ticket-alt" style="margin-right: 6px;"></i>ä¸Šä¸Šç­¾</a></li>
                <li><a href="../company_name.html" style="text-decoration: none; color: #3a7a6d; font-size: 1.1rem; font-weight: 500; padding: 8px 16px; border-radius: 10px; transition: all 0.3s ease; display: flex; align-items: center;"><i class="fas fa-building" style="margin-right: 6px;"></i>å…¬å¸æµ‹å</a></li>
                <li><a href="#baby-naming" onclick="showModule('baby-naming')" style="text-decoration: none; color: #3a7a6d; font-size: 1.1rem; font-weight: 500; padding: 8px 16px; border-radius: 10px; transition: all 0.3s ease; display: flex; align-items: center;"><i class="fas fa-baby" style="margin-right: 6px;"></i>å®å®èµ·å</a></li>
                <li><a href="tarot.html" style="text-decoration: none; color: #3a7a6d; font-size: 1.1rem; font-weight: 500; padding: 8px 16px; border-radius: 10px; transition: all 0.3s ease; display: flex; align-items: center;"><i class="fas fa-moon" style="margin-right: 6px;"></i>å¡”ç½—ç‰Œ</a></li>
            </ul>
        </nav>
        
        <!-- å¯¼èˆªèœå• -->
        <nav class="main-navigation" style="background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 25px; margin-bottom: 30px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08); border: 1px solid #a3c9b8;">
            <div class="nav-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; max-width: 1000px; margin: 0 auto;">
                <a href="#shangshangqian" class="nav-card" onclick="showModule('shangshangqian')" style="text-decoration: none; color: inherit; display: block; background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 20px; text-align: center; transition: all 0.3s ease; border: 1px solid #b8d5c7; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); cursor: pointer;">
                    <div class="nav-icon" style="font-size: 2.5rem; color: #4a8e7f; margin-bottom: 10px;">ğŸ‹</div>
                    <h3 style="color: #3a7a6d; margin-bottom: 5px; font-size: 1.2rem; font-weight: 500;">ä¸Šä¸Šç­¾</h3>
                    <p style="color: #7a9c91; font-size: 0.9rem; line-height: 1.3;">æ±‚ç­¾é—®åœ</p>
                </a>
                
                <a href="../company_name.html" class="nav-card" style="text-decoration: none; color: inherit; display: block; background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 20px; text-align: center; transition: all 0.3s ease; border: 1px solid #b8d5c7; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); cursor: pointer;">
                    <div class="nav-icon" style="font-size: 2.5rem; color: #4a8e7f; margin-bottom: 10px;">ğŸ¢</div>
                    <h3 style="color: #3a7a6d; margin-bottom: 5px; font-size: 1.2rem; font-weight: 500;">å…¬å¸æµ‹å</h3>
                    <p style="color: #7a9c91; font-size: 0.9rem; line-height: 1.3;">ä¼ä¸šå‘½å</p>
                </a>
                
                <a href="tarot.html" class="nav-card" style="text-decoration: none; color: inherit; display: block; background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 20px; text-align: center; transition: all 0.3s ease; border: 1px solid #b8d5c7; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); cursor: pointer;">
                    <div class="nav-icon" style="font-size: 2.5rem; color: #4a8e7f; margin-bottom: 10px;">ğŸŒ™</div>
                    <h3 style="color: #3a7a6d; margin-bottom: 5px; font-size: 1.2rem; font-weight: 500;">å¡”ç½—ç‰Œ</h3>
                    <p style="color: #7a9c91; font-size: 0.9rem; line-height: 1.3;">ç¥ç§˜å åœ</p>
                </a>
                
                <a href="#baby-naming" class="nav-card" onclick="showModule('baby-naming')" style="text-decoration: none; color: inherit; display: block; background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 20px; text-align: center; transition: all 0.3s ease; border: 1px solid #b8d5c7; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); cursor: pointer;">
                    <div class="nav-icon" style="font-size: 2.5rem; color: #4a8e7f; margin-bottom: 10px;">ğŸ‘¶</div>
                    <h3 style="color: #3a7a6d; margin-bottom: 5px; font-size: 1.2rem; font-weight: 500;">å®å®èµ·å</h3>
                    <p style="color: #7a9c91; font-size: 0.9rem; line-height: 1.3;">æ–°ç”Ÿç¥ç¦</p>
                </a>
            </div>
        </nav>
        
        <!-- åŠŸèƒ½æ¨¡å—åŒºåŸŸ (éšè—ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ˜¾ç¤º) -->
        <div class="modules-container" style="display: none;">
            <!-- ä¸Šä¸Šç­¾æ¨¡å— -->
            <div class="section-container" id="shangshangqian-module" style="display: none;">
                <h2><i class="fas fa-ticket-alt"></i> ä¸Šä¸Šç­¾</h2>
                <div class="temple" style="text-align: center; margin: 30px 0;">
                    <div class="xianzi-image" style="margin-bottom: 20px;">
                        <img src="lucky/xianzi.png" alt="ä»™å­" style="width: 150px; height: 150px; border-radius: 50%; border: 3px solid #b8d5c7; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); object-fit: cover;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div class="buddha" style="display: none; font-size: 3rem; color: #4a8e7f;">ğŸ§šâ€â™€ï¸</div>
                    </div>
                    <div class="lottery-container">
                        <button id="drawLottery" class="btn">æŠ½ ç­¾</button>
                        <button id="resetLottery" class="btn" style="margin-left: 10px; background: rgba(163, 201, 184, 0.6);" onclick="resetLottery()">é‡æ–°æŠ½ç­¾</button>
                    </div>
                </div>
                <div id="lotteryResult" class="lottery-result" style="margin-top: 20px; text-align: center; display: none;">
                    <div class="sign-card" style="background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 25px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08); border: 1px solid #b8d5c7; margin: 20px auto; max-width: 600px;">
                        <h3 id="signTitle" style="color: #3a7a6d; margin-bottom: 15px;"></h3>
                        <div id="signLuck" style="display: inline-block; padding: 6px 15px; border-radius: 20px; margin-bottom: 15px; font-weight: bold;"></div>
                        <div id="signPoem" style="font-style: italic; color: #5a8a7e; line-height: 1.8; margin-bottom: 20px; font-size: 1.1rem; padding: 15px; background: rgba(163, 201, 184, 0.1); border-radius: 10px;"></div>
                        <div id="signExplain" style="color: #2c514c; margin-bottom: 20px; line-height: 1.6;"></div>
                        <div id="signScope" style="text-align: left;">
                            <h4 style="color: #3a7a6d; margin-bottom: 15px; text-align: center;">å„æ–¹é¢æŒ‡å¼•</h4>
                            <div class="scope-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å®å®èµ·åæ¨¡å— -->
            <div class="section-container" id="baby-naming-module" style="display: none;">
                <h2><i class="fas fa-baby"></i> å®å®èµ·å</h2>
                <div class="naming-container">
                    <div class="baby-image-container">
                        <img src="baby/baby.png" alt="å®å®" class="baby-image">
                    </div>
                    <form id="babyNamingForm" class="naming-form">
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="familyName" style="display: block; margin-bottom: 8px; color: #3a7a6d; font-weight: 500;">å®å®å§“æ°</label>
                            <input type="text" id="familyName" name="familyName" required placeholder="è¯·è¾“å…¥å§“æ°">
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: #3a7a6d; font-weight: 500;">å‡ºç”Ÿæ—¥æœŸã€æ—¶é—´</label>
                            <div class="date-selector">
                                <select id="calendarType" name="calendarType">
                                    <option value="solar">å…¬å†</option>
                                    <option value="lunar">å†œå†</option>
                                </select>
                                <input type="date" id="birthDate" name="birthDate" required>
                                <input type="time" id="birthTime" name="birthTime" placeholder="æ—¶è¾°ï¼ˆå¯é€‰ï¼‰">
                            </div>
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="babyGender" style="display: block; margin-bottom: 8px; color: #3a7a6d; font-weight: 500;">æ€§åˆ«</label>
                            <select id="babyGender" name="babyGender" required>
                                <option value="">è¯·é€‰æ‹©æ€§åˆ«</option>
                                <option value="male">ç”·å­©</option>
                                <option value="female">å¥³å­©</option>
                                <option value="neutral">ä¸é™</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="namingStyle" style="display: block; margin-bottom: 8px; color: #3a7a6d; font-weight: 500;">èµ·åé£æ ¼</label>
                            <select id="namingStyle" name="namingStyle">
                                <option value="traditional">ä¼ ç»Ÿå¤å…¸</option>
                                <option value="modern">ç°ä»£æ—¶å°š</option>
                                <option value="literary">æ–‡é›…ä¹¦é¦™</option>
                                <option value="auspicious">å‰ç¥¥å¯“æ„</option>
                                <option value="five-elements">äº”è¡Œè¡¥ç¼º</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="expectation" style="display: block; margin-bottom: 8px; color: #3a7a6d; font-weight: 500;">çˆ¶æ¯æœŸæœ›å¯“æ„</label>
                            <select id="expectation" name="expectation" multiple size="5">
                                <option value="health">å¥åº·é•¿å¯¿</option>
                                <option value="wisdom">èªæ˜æ™ºæ…§</option>
                                <option value="wealth">è´¢å¯Œå…´æ—º</option>
                                <option value="elegance">æ–‡é›…æ°”è´¨</option>
                                <option value="success">äº‹ä¸šæˆåŠŸ</option>
                                <option value="kindness">å–„è‰¯ä»æ…ˆ</option>
                                <option value="courage">å‹‡æ•¢åšå¼º</option>
                                <option value="prosperity">ç¹è£æ˜Œç››</option>
                                <option value="happiness">å¹¸ç¦å¿«ä¹</option>
                                <option value="talent">æ‰åæ¨ªæº¢</option>
                                <option value="peace">å¹³å®‰é¡ºé‚</option>
                                <option value="noble">é«˜è´µå…¸é›…</option>
                            </select>
                            <p class="help-text">æŒ‰ä½Ctrlé”®å¯å¤šé€‰</p>
                        </div>
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="avoidChars" style="display: block; margin-bottom: 8px; color: #3a7a6d; font-weight: 500;">é¿è®³å­—ç¬¦ï¼ˆå¯é€‰ï¼‰</label>
                            <input type="text" id="avoidChars" name="avoidChars" placeholder="å¦‚ï¼šä¸é•¿è¾ˆé‡åçš„å­—ç¬¦">
                            <p class="help-text">è¾“å…¥ä¸å¸Œæœ›å‡ºç°åœ¨åå­—ä¸­çš„å­—ç¬¦</p>
                        </div>
                        <button type="submit" class="btn">ğŸ’« AIæ™ºèƒ½èµ·å</button>
                        <button type="button" id="generatePdfBtn" class="btn" style="margin-left: 10px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);">ğŸ“„ ç”Ÿæˆå‘½åæŠ¥å‘Š</button>
                    </form>
                    <div id="namingResults" class="naming-results">
                        <h4>ğŸŒŸ æ™ºèƒ½æ¨èåå­—</h4>
                        <div id="nameSuggestions" class="name-suggestions"></div>
                        <div class="analysis-section" id="nameAnalysis" style="display: none;">
                            <h4>ğŸ“‹ å‘½ç†åˆ†æ</h4>
                            <div class="analysis-content">
                                <div class="five-elements-analysis">
                                    <h5>äº”è¡Œåˆ†æ</h5>
                                    <div id="fiveElementsResult"></div>
                                </div>
                                <div class="fortune-analysis">
                                    <h5>è¿åŠ¿è§£è¯»</h5>
                                    <div id="fortuneResult"></div>
                                </div>
                            </div>
                        </div>
                        <div class="history-section">
                            <h4>èµ·åå†å²è®°å½•</h4>
                            <div id="namingHistory" class="naming-history">
                                <p>æš‚æ— å†å²è®°å½•</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å®å®èµ·ååŠŸèƒ½æ¨¡å—
        const babyNaming = {
            // ä¼ ç»Ÿæ–‡åŒ–èµ·åæ•°æ®åº“
            nameDatabase: {
                // äº”è¡Œå±æ€§å­—åº“
                fiveElements: {
                    wood: {
                        male: ['æ—', 'æ£®', 'æŸ', 'æ¾', 'æ¢“', 'æ ‹', 'æ¥ ', 'å½¬', 'æ°', 'æ¡‚', 'æ¡', 'æ¦•', 'æ¨Š', 'æƒ', 'æ£‹'],
                        female: ['ç«¹', 'å…°', 'èŠ', 'æ¢…', 'æŸ³', 'æ¡ƒ', 'æ', 'æ¡‚', 'è²', 'è·', 'èŒ‰', 'è“‰', 'èŠ', 'èŠ¯', 'è‹‘']
                    },
                    fire: {
                        male: ['ç‚', 'ç„±', 'çƒ½', 'ç…œ', 'ç‚³', 'æ˜Š', 'æ™¨', 'æ—­', 'é˜³', 'æ›¦', 'æ™–', 'ç‚œ', 'çƒ¨', 'ç„•', 'ç¿'],
                        female: ['æ™´', 'æš–', 'æ™¶', 'æ›¦', 'ç‚«', 'çƒ', 'ç„°', 'ä¸¹', 'å½¤', 'æœ±', 'çº¢', 'èµ¤', 'ç»¯', 'éŸµ', 'æ›œ']
                    },
                    earth: {
                        male: ['å¤', 'åš', 'åŸ¹', 'å¢¨', 'åŸ', 'å‡', 'åš', 'å¢ƒ', 'å²©', 'å³°', 'å±±', 'å´‡', 'å²±', 'å³»', 'å·'],
                        female: ['å¨…', 'å©‰', 'å«£', 'ç‘›', 'ç‘œ', 'ç’', 'ç³', 'çŠ', 'ç', 'ç‰', 'ç’§', 'ç‘¶', 'çª', 'ç¦', 'ç ']
                    },
                    metal: {
                        male: ['é“­', 'é”‹', 'é’¢', 'é“', 'é”', 'é’§', 'é“®', 'é”¦', 'é’Š', 'é’°', 'é“¨', 'é”Œ', 'é“¶', 'é‡‘', 'é‘«'],
                        female: ['é’°', 'é‘«', 'é“¶', 'é“ƒ', 'é’—', 'é”¦', 'é’', 'é’¿', 'é•¯', 'é“¾', 'é“›', 'é•œ', 'é”ˆ', 'é“¢', 'é’']
                    },
                    water: {
                        male: ['æµ·', 'æ±Ÿ', 'æ²³', 'æ¹–', 'æ³¢', 'æ¶›', 'æµ', 'æ³½', 'æº', 'æ¸…', 'æ·¼', 'æ¸Š', 'æ¶¦', 'æ²', 'æ´‹'],
                        female: ['é›¨', 'é›ª', 'éœœ', 'éœ²', 'äº‘', 'éœ', 'æ·¼', 'æ¶µ', 'æºª', 'æ½‡', 'æ¼«', 'æ¶¦', 'æ´', 'æ¸…', 'æ¾œ']
                    }
                },
                
                // ä¸åŒé£æ ¼çš„åå­—åº“
                traditional: {
                    male: ['æ–‡', 'æ­¦', 'å¾·', 'ä»', 'ä¹‰', 'ç¤¼', 'æ™º', 'ä¿¡', 'å¿ ', 'å­', 'å»‰', 'è€»', 'æ¸©', 'è‰¯', 'æ­'],
                    female: ['æ·‘', 'è´¤', 'é›…', 'é™', 'å©‰', 'æ…§', 'æ•', 'ç§€', 'ä¸½', 'ç¾', 'å¨´', 'è´', 'æ´', 'ç«¯', 'åº„']
                },
                
                modern: {
                    male: ['è½©', 'å®‡', 'æµ©', 'åš', 'æ¶µ', 'ä¿Š', 'æ³½', 'ç¿', 'èˆª', 'æ™¨', 'é˜³', 'çš“', 'å®¸', 'æ˜Š', 'é€¸'],
                    female: ['é›¨', 'æ¬£', 'è¯—', 'çª', 'é›…', 'è±', 'æ€¡', 'è‹¥', 'å©‰', 'æ¢“', 'æ¶µ', 'è²', 'è•Š', 'é¦¨', 'å¦']
                },
                
                literary: {
                    male: ['è¯—', 'ä¹¦', 'ç¤¼', 'æ˜“', 'ä¹', 'çŸ¥', 'ä»', 'ä¹‰', 'ä¿¡', 'æ™º', 'å¢¨', 'æ–‡', 'ç« ', 'éŸµ', 'é›…'],
                    female: ['è¯—', 'è¯', 'ç”»', 'ç´', 'æ£‹', 'ä¹¦', 'é›…', 'éŸµ', 'å¢¨', 'å…°', 'ç«¹', 'èŠ', 'æ¢…', 'è²', 'è·']
                },
                
                auspicious: {
                    male: ['ç¦', 'ç¦„', 'å¯¿', 'å–œ', 'è´¢', 'è´µ', 'è£', 'å', 'å¯Œ', 'åº·', 'å®', 'å®‰', 'å‰', 'ç¥¥', 'ç‘'],
                    female: ['ç¦', 'æ…§', 'å®‰', 'å®', 'åº·', 'ä¹', 'æ€¡', 'æ‚¦', 'æ¬£', 'å–œ', 'å‰', 'ç¥¥', 'ç‘', 'å®œ', 'ä½³']
                }
            },
            
            // ç”Ÿè¾°å…«å­—è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
            calculateBaZi: function(birthDate, birthTime) {
                // è¿™é‡Œåº”è¯¥æœ‰å¤æ‚çš„ç”Ÿè¾°å…«å­—è®¡ç®—é€»è¾‘
                // ç®€åŒ–ç‰ˆæœ¬ï¼Œè¿”å›æ¨¡æ‹Ÿçš„äº”è¡Œç¼ºå¤±
                const elements = ['wood', 'fire', 'earth', 'metal', 'water'];
                const lacking = elements[Math.floor(Math.random() * elements.length)];
                return {
                    lacking: lacking,
                    strong: elements[(elements.indexOf(lacking) + 2) % 5],
                    analysis: `æ ¹æ®å‡ºç”Ÿæ—¶é—´åˆ†æï¼Œäº”è¡Œä¸­${this.getElementName(lacking)}åå¼±ï¼Œå»ºè®®åœ¨åå­—ä¸­è¡¥å……ç›¸å…³å±æ€§çš„å­—ã€‚`
                };
            },
            
            // è·å–äº”è¡Œä¸­æ–‡åç§°
            getElementName: function(element) {
                const names = {
                    wood: 'æœ¨',
                    fire: 'ç«', 
                    earth: 'åœŸ',
                    metal: 'é‡‘',
                    water: 'æ°´'
                };
                return names[element] || 'æœªçŸ¥';
            },
            
            // ç”Ÿæˆåå­—
            generateNames: function(formData) {
                const { familyName, gender, namingStyle, expectation, avoidChars, birthDate, birthTime } = formData;
                const names = [];
                
                // è®¡ç®—å…«å­—
                const bazi = this.calculateBaZi(birthDate, birthTime);
                
                // æ ¹æ®é£æ ¼å’Œäº”è¡Œé€‰æ‹©å­—åº“
                let characterPool = [];
                
                if (namingStyle === 'five-elements') {
                    // äº”è¡Œè¡¥ç¼ºèµ·å
                    const elementChars = this.nameDatabase.fiveElements[bazi.lacking];
                    characterPool = gender === 'female' ? elementChars.female : elementChars.male;
                } else {
                    // å…¶ä»–é£æ ¼èµ·å
                    const styleChars = this.nameDatabase[namingStyle];
                    if (styleChars) {
                        characterPool = gender === 'female' ? styleChars.female : styleChars.male;
                    } else {
                        characterPool = this.nameDatabase.modern[gender === 'female' ? 'female' : 'male'];
                    }
                }
                
                // è¿‡æ»¤é¿è®³å­—ç¬¦
                if (avoidChars) {
                    characterPool = characterPool.filter(char => !avoidChars.includes(char));
                }
                
                // ç”Ÿæˆ10ä¸ªå€™é€‰åå­—
                for (let i = 0; i < 10; i++) {
                    const char1 = characterPool[Math.floor(Math.random() * characterPool.length)];
                    const char2 = Math.random() > 0.6 ? characterPool[Math.floor(Math.random() * characterPool.length)] : '';
                    
                    const fullName = familyName + char1 + char2;
                    const score = this.calculateNameScore(fullName, bazi);
                    const meaning = this.getNameMeaning(char1, char2, expectation);
                    
                    names.push({
                        name: fullName,
                        score: score,
                        meaning: meaning,
                        fiveElement: this.getCharElement(char1)
                    });
                }
                
                // æŒ‰è¯„åˆ†æ’åº
                names.sort((a, b) => b.score - a.score);
                
                return {
                    names: names,
                    bazi: bazi
                };
            },
            
            // è®¡ç®—åå­—è¯„åˆ†ï¼ˆç®€åŒ–ç‰ˆï¼‰
            calculateNameScore: function(name, bazi) {
                let score = 70 + Math.floor(Math.random() * 25); // åŸºç¡€åˆ†70-95
                
                // æ ¹æ®äº”è¡ŒåŒ¹é…åº¦è°ƒæ•´
                const nameElement = this.getCharElement(name.slice(1));
                if (nameElement === bazi.lacking) {
                    score += 5; // è¡¥ç¼ºåŠ åˆ†
                }
                
                return Math.min(100, score);
            },
            
            // è·å–å­—çš„äº”è¡Œå±æ€§ï¼ˆç®€åŒ–ç‰ˆï¼‰
            getCharElement: function(char) {
                // ç®€åŒ–ç‰ˆï¼Œéšæœºè¿”å›äº”è¡Œå±æ€§
                const elements = ['wood', 'fire', 'earth', 'metal', 'water'];
                return elements[Math.floor(Math.random() * elements.length)];
            },
            
            // è·å–åå­—å¯“æ„
            getNameMeaning: function(char1, char2, expectations) {
                const meanings = {
                    health: 'å¯“æ„èº«ä½“å¥åº·ï¼Œé•¿å‘½ç™¾å²',
                    wisdom: 'è±¡å¾èªæ˜æ™ºæ…§ï¼Œåšå­¦å¤šæ‰',
                    wealth: 'é¢„ç¤ºè´¢è¿äº¨é€šï¼Œå¯Œè´µå®‰åº·',
                    elegance: 'ä½“ç°æ–‡é›…æ°”è´¨ï¼ŒçŸ¥ä¹¦è¾¾ç†',
                    success: 'å¯“æ„äº‹ä¸šæœ‰æˆï¼Œå‰ç¨‹ä¼¼é”¦',
                    kindness: 'è±¡å¾å–„è‰¯ä»æ…ˆï¼Œå¾·è¡Œé«˜å°š',
                    courage: 'ä½“ç°å‹‡æ•¢åšå¼ºï¼Œä¸ç•å›°éš¾',
                    prosperity: 'å¯“æ„ç¹è£æ˜Œç››ï¼Œå…´æ—ºå‘è¾¾',
                    happiness: 'è±¡å¾å¹¸ç¦å¿«ä¹ï¼Œå¿ƒæƒ³äº‹æˆ',
                    talent: 'ä½“ç°æ‰åæ¨ªæº¢ï¼ŒæŠ€è‰ºç²¾æ¹›',
                    peace: 'å¯“æ„å¹³å®‰é¡ºé‚ï¼Œå²æœˆé™å¥½',
                    noble: 'è±¡å¾é«˜è´µå…¸é›…ï¼Œå“æ ¼ä¸å‡¡'
                };
                
                if (expectations && expectations.length > 0) {
                    const randomExpectation = expectations[Math.floor(Math.random() * expectations.length)];
                    return meanings[randomExpectation] || 'å¯“æ„ç¾å¥½ï¼Œå‰ç¨‹ä¼¼é”¦';
                }
                
                return 'å¯“æ„ç¾å¥½ï¼Œå‰ç¨‹ä¼¼é”¦';
            },
            
            // åˆå§‹åŒ–èµ·ååŠŸèƒ½
            init: function() {
                const form = document.getElementById('babyNamingForm');
                const pdfBtn = document.getElementById('generatePdfBtn');
                
                if (form) {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleSubmit();
                    });
                }
                
                if (pdfBtn) {
                    pdfBtn.addEventListener('click', () => {
                        this.generatePdf();
                    });
                }
            },
            
            // å¤„ç†è¡¨å•æäº¤
            handleSubmit: function() {
                const formData = {
                    familyName: document.getElementById('familyName').value.trim(),
                    birthDate: document.getElementById('birthDate').value,
                    birthTime: document.getElementById('birthTime').value,
                    gender: document.getElementById('babyGender').value,
                    namingStyle: document.getElementById('namingStyle').value,
                    expectation: Array.from(document.getElementById('expectation').selectedOptions).map(option => option.value),
                    avoidChars: document.getElementById('avoidChars').value.trim()
                };
                
                if (!formData.familyName || !formData.birthDate || !formData.gender) {
                    alert('è¯·å¡«å†™å®Œæ•´çš„åŸºæœ¬ä¿¡æ¯');
                    return;
                }
                
                // ç”Ÿæˆåå­—
                const result = this.generateNames(formData);
                this.displayResults(result, formData);
            },
            
            // æ˜¾ç¤ºç»“æœ
            displayResults: function(result, formData) {
                const suggestionsDiv = document.getElementById('nameSuggestions');
                const analysisDiv = document.getElementById('nameAnalysis');
                const fiveElementsDiv = document.getElementById('fiveElementsResult');
                const fortuneDiv = document.getElementById('fortuneResult');
                
                // æ˜¾ç¤ºåå­—å»ºè®®
                let html = '<div class="name-grid">';
                result.names.forEach((item, index) => {
                    const isRecommended = index === 0;
                    html += `
                        <div class="name-card ${isRecommended ? 'recommended' : ''}">
                            <div class="name-text">${item.name}</div>
                            <div class="name-score">è¯„åˆ†: ${item.score}</div>
                            <div class="name-element">äº”è¡Œ: ${this.getElementName(item.fiveElement)}</div>
                            <div class="name-meaning">${item.meaning}</div>
                            ${isRecommended ? '<div class="recommended-badge">ğŸŒŸ AIæ¨è</div>' : ''}
                        </div>
                    `;
                });
                html += '</div>';
                suggestionsDiv.innerHTML = html;
                
                // æ˜¾ç¤ºäº”è¡Œåˆ†æ
                fiveElementsDiv.innerHTML = `
                    <div class="five-elements-info">
                        <p><strong>äº”è¡Œåˆ†æï¼š</strong>${result.bazi.analysis}</p>
                        <p><strong>åå¼±äº”è¡Œï¼š</strong>${this.getElementName(result.bazi.lacking)}</p>
                        <p><strong>åå¼ºäº”è¡Œï¼š</strong>${this.getElementName(result.bazi.strong)}</p>
                    </div>
                `;
                
                // æ˜¾ç¤ºè¿åŠ¿è§£è¯»
                fortuneDiv.innerHTML = `
                    <div class="fortune-info">
                        <p><strong>æ•´ä½“è¿åŠ¿ï¼š</strong>æ ¹æ®ç”Ÿè¾°åˆ†æï¼Œæ­¤å‘½æ ¼å…·æœ‰è‰¯å¥½çš„å‘å±•æ½œåŠ›ã€‚</p>
                        <p><strong>æ€§æ ¼ç‰¹ç‚¹ï¼š</strong>èªæ˜ä¼¶ä¿ï¼Œå–„äºæ€è€ƒï¼Œå…·æœ‰åˆ›æ–°ç²¾ç¥ã€‚</p>
                        <p><strong>æœªæ¥å‘å±•ï¼š</strong>åœ¨å­¦ä¸šå’Œäº‹ä¸šä¸Šéƒ½æœ‰ä¸é”™çš„è¡¨ç°ï¼Œå»ºè®®åŸ¹å…»å¤šæ–¹é¢æ‰èƒ½ã€‚</p>
                    </div>
                `;
                
                // æ˜¾ç¤ºåˆ†æåŒºåŸŸ
                analysisDiv.style.display = 'block';
                
                // ä¿å­˜åˆ°å†å²è®°å½•
                this.saveToHistory(formData, result.names[0]);
            },
            
            // ä¿å­˜åˆ°å†å²è®°å½•
            saveToHistory: function(formData, bestName) {
                const history = JSON.parse(localStorage.getItem('namingHistory') || '[]');
                const record = {
                    date: new Date().toLocaleDateString(),
                    surname: formData.familyName,
                    gender: formData.gender,
                    bestName: bestName.name,
                    score: bestName.score
                };
                
                history.unshift(record);
                if (history.length > 10) history.pop(); // åªä¿ç•™æœ€è¿‘10æ¡
                
                localStorage.setItem('namingHistory', JSON.stringify(history));
                this.displayHistory();
            },
            
            // æ˜¾ç¤ºå†å²è®°å½•
            displayHistory: function() {
                const historyDiv = document.getElementById('namingHistory');
                const history = JSON.parse(localStorage.getItem('namingHistory') || '[]');
                
                if (history.length === 0) {
                    historyDiv.innerHTML = '<p>æš‚æ— å†å²è®°å½•</p>';
                    return;
                }
                
                let html = '<div class="history-list">';
                history.forEach(record => {
                    html += `
                        <div class="history-item">
                            <div class="history-date">${record.date}</div>
                            <div class="history-info">
                                <span class="history-name">${record.bestName}</span>
                                <span class="history-score">è¯„åˆ†: ${record.score}</span>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
                historyDiv.innerHTML = html;
            },
            
            // ç”ŸæˆPDFæŠ¥å‘Š
            generatePdf: function() {
                const formData = {
                    familyName: document.getElementById('familyName').value.trim(),
                    birthDate: document.getElementById('birthDate').value,
                    gender: document.getElementById('babyGender').value
                };
                
                if (!formData.familyName || !formData.birthDate || !formData.gender) {
                    alert('è¯·å…ˆå¡«å†™åŸºæœ¬ä¿¡æ¯å¹¶ç”Ÿæˆåå­—');
                    return;
                }
                
                // æ¨¡æ‹Ÿè°ƒç”¨APIç”ŸæˆPDF
                const loadingMsg = document.createElement('div');
                loadingMsg.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 10px; z-index: 9999;';
                loadingMsg.textContent = 'æ­£åœ¨ç”Ÿæˆå‘½åæŠ¥å‘ŠPDFï¼Œè¯·ç¨å€™...';
                document.body.appendChild(loadingMsg);
                
                setTimeout(() => {
                    document.body.removeChild(loadingMsg);
                    alert('PDFæŠ¥å‘Šç”ŸæˆåŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼');
                }, 2000);
            }
        };
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ... existing code ...
            
            // åˆå§‹åŒ–å®å®èµ·ååŠŸèƒ½
            babyNaming.init();
            babyNaming.displayHistory();
        });
        
        // æ·»åŠ æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
            .name-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            
            .name-card {
                background: rgba(255, 255, 255, 0.95);
                border: 1px solid #b8d5c7;
                border-radius: 10px;
                padding: 15px;
                text-align: center;
                transition: all 0.3s ease;
                position: relative;
            }
            
            .name-card:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            }
            
            .name-card.recommended {
                border: 2px solid #4a8e7f;
                background: linear-gradient(135deg, rgba(74, 142, 127, 0.1), rgba(99, 169, 149, 0.1));
            }
            
            .name-text {
                font-size: 1.5rem;
                font-weight: bold;
                color: #3a7a6d;
                margin-bottom: 8px;
            }
            
            .name-score {
                color: #ff6b6b;
                font-weight: 500;
                margin-bottom: 5px;
            }
            
            .name-element {
                color: #5a8a7e;
                font-size: 0.9rem;
                margin-bottom: 8px;
            }
            
            .name-meaning {
                color: #2c514c;
                font-size: 0.85rem;
                line-height: 1.4;
            }
            
            .recommended-badge {
                position: absolute;
                top: -8px;
                right: -8px;
                background: linear-gradient(135deg, #ff6b6b, #ee5a52);
                color: white;
                padding: 4px 8px;
                border-radius: 15px;
                font-size: 0.7rem;
                font-weight: bold;
            }
            
            .analysis-section {
                background: rgba(163, 201, 184, 0.1);
                border: 1px solid #a3c9b8;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }
            
            .analysis-content {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
            }
            
            .five-elements-analysis, .fortune-analysis {
                background: rgba(255, 255, 255, 0.8);
                padding: 15px;
                border-radius: 8px;
            }
            
            .five-elements-analysis h5, .fortune-analysis h5 {
                color: #3a7a6d;
                margin-bottom: 10px;
                font-size: 1.1rem;
            }
            
            .history-list {
                max-height: 200px;
                overflow-y: auto;
            }
            
            .history-item {
                background: rgba(255, 255, 255, 0.9);
                border: 1px solid #d1e8e2;
                border-radius: 8px;
                padding: 10px;
                margin-bottom: 8px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .history-date {
                color: #7a9c91;
                font-size: 0.85rem;
            }
            
            .history-name {
                font-weight: bold;
                color: #3a7a6d;
                margin-right: 10px;
            }
            
            .history-score {
                color: #ff6b6b;
                font-size: 0.85rem;
            }
        `;
        document.head.appendChild(style);
            // ä¸ºå¯¼èˆªå¡ç‰‡æ·»åŠ æ‚¬åœæ•ˆæœ
            const navCards = document.querySelectorAll('.nav-card');
            navCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    if (!this.href || this.href.includes('#')) {
                        this.style.transform = 'translateY(-10px)';
                        this.style.boxShadow = '0 15px 35px rgba(0, 0, 0, 0.15)';
                    }
                });
                
                card.addEventListener('mouseleave', function() {
                    if (!this.href || this.href.includes('#')) {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.08)';
                    }
                });
            });
            
            // è®¾ç½®é¦–é¡µä¸ºå½“å‰æ´»åŠ¨çŠ¶æ€
            setActiveNavItem('é¦–é¡µ');
            
            // åˆå§‹åŒ–ä¸Šä¸Šç­¾åŠŸèƒ½
            initLotterySystem();
        });
        
        // ä¸Šä¸Šç­¾æ•°æ®åº“
        let signsData = [];
        
        // åˆå§‹åŒ–æŠ½ç­¾ç³»ç»Ÿ
        async function initLotterySystem() {
            try {
                const response = await fetch('lucky/signs_100.json');
                signsData = await response.json();
                console.log('ç­¾æ–‡æ•°æ®åŠ è½½æˆåŠŸï¼Œå…±', signsData.length, 'æ”¯ç­¾');
            } catch (error) {
                console.error('åŠ è½½ç­¾æ–‡æ•°æ®å¤±è´¥:', error);
                // ä½¿ç”¨é»˜è®¤æ•°æ®
                signsData = getDefaultSigns();
            }
            
            // ç»‘å®šæŠ½ç­¾äº‹ä»¶
            const drawButton = document.getElementById('drawLottery');
            if (drawButton) {
                drawButton.addEventListener('click', drawLottery);
            }
        }
        
        // æŠ½ç­¾åŠŸèƒ½
        function drawLottery() {
            if (signsData.length === 0) {
                alert('ç­¾æ–‡æ•°æ®æš‚æœªåŠ è½½ï¼Œè¯·ç¨åå†è¯•');
                return;
            }
            
            // ç¦ç”¨æŠ½ç­¾æŒ‰é’®
            const drawButton = document.getElementById('drawLottery');
            drawButton.disabled = true;
            drawButton.textContent = 'æŠ½ç­¾ä¸­...';
            
            // æ¨¡æ‹ŸæŠ½ç­¾åŠ¨ç”»
            setTimeout(() => {
                // éšæœºé€‰æ‹©ä¸€æ”¯ç­¾
                const randomIndex = Math.floor(Math.random() * signsData.length);
                const selectedSign = signsData[randomIndex];
                
                // æ˜¾ç¤ºç»“æœ
                displaySignResult(selectedSign);
                
                // æ¢å¤æŒ‰é’®
                drawButton.disabled = false;
                drawButton.textContent = 'å†æ¬¡æŠ½ç­¾';
            }, 2000);
        }
        
        // æ˜¾ç¤ºç­¾æ–‡ç»“æœ
        function displaySignResult(sign) {
            const resultDiv = document.getElementById('lotteryResult');
            const titleEl = document.getElementById('signTitle');
            const luckEl = document.getElementById('signLuck');
            const poemEl = document.getElementById('signPoem');
            const explainEl = document.getElementById('signExplain');
            const scopeEl = document.querySelector('.scope-grid');
            
            // è®¾ç½®å†…å®¹
            titleEl.textContent = sign.title;
            poemEl.textContent = sign.poem;
            explainEl.textContent = sign.explain;
            
            // è®¾ç½®ç­¾è¿æ ·å¼
            luckEl.textContent = sign.luck;
            luckEl.className = '';
            if (sign.luck.includes('ä¸Šä¸Šç­¾') || sign.luck.includes('ä¸Šå‰ç­¾')) {
                luckEl.style.background = 'linear-gradient(135deg, #ff6b6b, #ee5a52)';
                luckEl.style.color = 'white';
            } else if (sign.luck.includes('ä¸­å‰ç­¾') || sign.luck.includes('ä¸­ä¸Šç­¾')) {
                luckEl.style.background = 'linear-gradient(135deg, #feca57, #ff9ff3)';
                luckEl.style.color = 'white';
            } else {
                luckEl.style.background = 'linear-gradient(135deg, #a3c9b8, #b8d5c7)';
                luckEl.style.color = '#2c514c';
            }
            
            // æ˜¾ç¤ºå„æ–¹é¢æŒ‡å¼•
            scopeEl.innerHTML = '';
            if (sign.scope) {
                Object.entries(sign.scope).forEach(([key, value]) => {
                    const scopeItem = document.createElement('div');
                    scopeItem.style.cssText = 'background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 10px; border: 1px solid #b8d5c7;';
                    scopeItem.innerHTML = `
                        <h5 style="color: #3a7a6d; margin-bottom: 8px; font-size: 1.1rem;">${key}</h5>
                        <p style="color: #5a8a7e; line-height: 1.5; margin: 0;">${value}</p>
                    `;
                    scopeEl.appendChild(scopeItem);
                });
            }
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // é‡ç½®æŠ½ç­¾
        function resetLottery() {
            const resultDiv = document.getElementById('lotteryResult');
            const drawButton = document.getElementById('drawLottery');
            
            resultDiv.style.display = 'none';
            drawButton.textContent = 'æŠ½ ç­¾';
            drawButton.disabled = false;
        }
        
        // é»˜è®¤ç­¾æ–‡æ•°æ®ï¼ˆå¤‡ç”¨ï¼‰
        function getDefaultSigns() {
            return [
                {
                    "id": 1,
                    "title": "ç¬¬1ç­¾",
                    "poem": "å¤§å±•å®å›¾å¯è´ºå–œï¼ŒåŠŸåé‚æ„äº‹æ— ç–‘ï¼›åªå› ä»Šæ—¥è´¢æºæ—ºï¼Œç¦ç¦„å¯¿å–œæ€»ç›¸éšã€‚",
                    "explain": "æ­¤ç­¾å¤§å‰å¤§åˆ©ï¼Œä¸»åŠŸåè´¢è¿åŒå…¨ï¼Œå‡¡äº‹é¡ºé‚ã€‚è°‹äº‹æœ‰æˆï¼Œè´µäººæ‰¶æŒã€‚",
                    "luck": "ä¸Šä¸Šç­¾",
                    "scope": {
                        "äº‹ä¸š": "äº‹ä¸šå‘å±•é¡ºåˆ©ï¼Œå®œæŠŠæ¡æœºä¼šã€‚",
                        "è´¢è¿": "è´¢æºå¹¿è¿›ï¼ŒæŠ•èµ„è·åˆ©ã€‚",
                        "æ„Ÿæƒ…": "æ„Ÿæƒ…å’Œåˆï¼Œå©šå§»ç¾æ»¡ã€‚",
                        "å¥åº·": "èº«å¿ƒåº·æ³°ï¼Œå®œä¿æŒã€‚",
                        "å‡ºè¡Œ": "å‡ºè¡Œå¹³å®‰ï¼Œåˆ©äºè§è´µã€‚"
                    }
                }
            ];
        }
        
        // è¿”å›é¦–é¡µåŠŸèƒ½
        function goHome() {
            // æ˜¾ç¤ºå¯¼èˆªå¡ç‰‡
            document.querySelector('.main-navigation').style.display = 'block';
            // éšè—æ¨¡å—å®¹å™¨
            document.querySelector('.modules-container').style.display = 'none';
            // ç§»é™¤è¿”å›æŒ‰é’®
            const backButton = document.querySelector('.back-button');
            if (backButton) {
                backButton.remove();
            }
            // è®¾ç½®å¯¼èˆªé«˜äº®
            setActiveNavItem('é¦–é¡µ');
        }
        
        // è®¾ç½®æ´»åŠ¨å¯¼èˆªé¡¹
        function setActiveNavItem(itemName) {
            const navLinks = document.querySelectorAll('.top-navigation a');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.textContent.includes(itemName)) {
                    link.classList.add('active');
                }
            });
        }
        
        // æ˜¾ç¤ºç‰¹å®šæ¨¡å—çš„å‡½æ•°
        function showModule(moduleId) {
            // éšè—å¯¼èˆª
            document.querySelector('.main-navigation').style.display = 'none';
            
            // æ˜¾ç¤ºæ¨¡å—å®¹å™¨
            const modulesContainer = document.querySelector('.modules-container');
            modulesContainer.style.display = 'block';
            
            // éšè—æ‰€æœ‰æ¨¡å—
            const allModules = modulesContainer.querySelectorAll('.section-container');
            allModules.forEach(module => module.style.display = 'none');
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ¨¡å—
            const targetModule = document.getElementById(moduleId + '-module');
            if (targetModule) {
                targetModule.style.display = 'block';
            }
            
            // è®¾ç½®å¯¼èˆªé«˜äº®
            if (moduleId === 'shangshangqian') {
                setActiveNavItem('ä¸Šä¸Šç­¾');
            } else if (moduleId === 'baby-naming') {
                setActiveNavItem('å®å®èµ·å');
            }
            
            // æ·»åŠ è¿”å›æŒ‰é’®
            if (!document.querySelector('.back-button')) {
                const backButton = document.createElement('button');
                backButton.className = 'btn back-button';
                backButton.innerHTML = 'â† è¿”å›ä¸»é¡µ';
                backButton.style.marginBottom = '20px';
                backButton.onclick = function() {
                    goHome();
                };
                modulesContainer.insertBefore(backButton, modulesContainer.firstChild);
            }
        }
    </script>
  </body>
</html>